angular.module("MainCtrl",[]).controller("MainController",["$scope",function(t){function a(t){return Math.ceil(+t+t*(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)/3)}t.open=function(a){t.status[a].opened=!0},t.dateOptions={formatYear:"yy",startingDay:1},t.format="dd-MMMM-yyyy",t.status=[{opened:!1},{opened:!1}],t.submit=function(){var o=Math.ceil(Math.abs(t.dFinish.getTime()-t.dStart.getTime())/864e5),e=t.oFinish-t.oStart,n=0,r=[],i=0;do{var d=a(t.avg);r[n]={km:d},i+=d,n++}while(i<t.km);var l=o/r.length,m=e-t.km;n=0,i=0;var h=+t.oStart;do i+=a(l),r[n].day=moment(t.dStart).add(i,"days").format("DD MMM YYYY"),r[n].oStart=h,h+=r[n].km,r[n].oFinish=h,h+=a(m/(r.length-1)),n++;while(n<r.length);var u="data:text/csv;charset=utf-8,",s=["Date","Odometer Start","Odometer Finish","KMs"].join(",");u+=s,u+="\n",r.forEach(function(t,a){dataString=[t.day,t.oStart,t.oFinish,t.km].join(","),u+=dataString,u+="\n"});var c=encodeURI(u),M=document.createElement("a");document.body.appendChild(M),M.setAttribute("href",c),M.setAttribute("download","logbook.csv"),M.click()}}]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,a){t.when("/",{templateUrl:"views/home.html",controller:"MainController"}),a.html5Mode(!0)}]),angular.module("myApp",["ngRoute","appRoutes","ui.bootstrap","MainCtrl"]);